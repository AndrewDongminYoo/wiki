---
slug: yarn-berry-and-classic
title: Yarn Berry and Classic
authors: andrew
tags: []
---

# Yarn Berry and Classic

## What is Yarn Berry?

Yarn BerryëŠ” Yarnì˜ ìƒˆë¡œìš´ ë²„ì „ìœ¼ë¡œ, Node.jsë¥¼ ìœ„í•œ íŒ¨í‚¤ì§€ ê´€ë¦¬ ì‹œìŠ¤í…œì…ë‹ˆë‹¤. Yarn BerryëŠ” node_modules í´ë”ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  zip íŒŒì¼ë¡œ ëª¨ë“ˆë“¤ì„ ê´€ë¦¬í•˜ë©°, Plug'n'Play (PnP)ë¼ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤. PnPëŠ” ëª¨ë“ˆ ì„¤ì¹˜ ì‹œê°„ì„ ì¤„ì´ê³  ë””ìŠ¤í¬ ê³µê°„ì„ ì ˆì•½í•˜ë©° í˜¸í™˜ì„± ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ë“±ì˜ ì¥ì ì´ ìˆìŠµë‹ˆë‹¤. Yarn Berryë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ ë‹¤ìŒê³¼ ê°™ì€ ë‹¨ê³„ë¥¼ ë”°ë¼ì•¼ í•©ë‹ˆë‹¤:

- npm install -g yarn ëª…ë ¹ì–´ë¡œ ê¸€ë¡œë²Œ yarn ë²„ì „ì„ ìµœì‹  v1ìœ¼ë¡œ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤.
- í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ë¡œ ì´ë™í•©ë‹ˆë‹¤.
- yarn set version berry ëª…ë ¹ì–´ë¡œ v2ë¥¼ í™œì„±í™”í•©ë‹ˆë‹¤.
- .npmrc ë˜ëŠ” .yarnrc íŒŒì¼ì´ ìˆë‹¤ë©´ ìƒˆë¡œìš´ í˜•ì‹ìœ¼ë¡œ ë³€ê²½í•©ë‹ˆë‹¤.
- .yarnrc.yml íŒŒì¼ì— nodeLinker: node-modules ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.

### References

(1) [node_modulesë¡œë¶€í„° ìš°ë¦¬ë¥¼ êµ¬ì›í•´ ì¤„ Yarn Berry](https://toss.tech/article/node-modules-and-yarn-berry)
(2) [[Devlog] yarn berry](https://subtlething.tistory.com/126)
(3) [yarn berryë¡œ React.js í”„ë¡œì íŠ¸ ì‹œì‘í•˜ê¸° | Kasterra's Archive](https://kasterra.github.io/setting-yarn-berry/)
(4) [GitHub - yarnpkg/berry: ğŸ“¦ğŸˆ Active development trunk for Yarn âš’](https://github.com/yarnpkg/berry)
(5) [Migration | Yarn - Package Manager](https://yarnpkg.com/getting-started/migration/)

## yarn Berryì™€ Yarn Classicì˜ ì°¨ì´ì 

Yarn Berryì™€ Yarn Classicì˜ ê°€ì¥ í° ì°¨ì´ì ì€ ëª¨ë“ˆ ê´€ë¦¬ ë°©ì‹ì…ë‹ˆë‹¤. Yarn Classicì€ node_modules í´ë”ì— ëª¨ë“  ì˜ì¡´ì„±ì„ ì„¤ì¹˜í•˜ê³ , package.json íŒŒì¼ì— ë²„ì „ ì •ë³´ë¥¼ ê¸°ë¡í•©ë‹ˆë‹¤. Yarn BerryëŠ” zip íŒŒì¼ë¡œ ëª¨ë“  ì˜ì¡´ì„±ì„ ì••ì¶•í•˜ê³ , .yarn í´ë”ì— ì €ì¥í•©ë‹ˆë‹¤. ë˜í•œ package.json íŒŒì¼ ëŒ€ì‹  .yarnrc.yml íŒŒì¼ì— ë²„ì „ ì •ë³´ë¥¼ ê¸°ë¡í•©ë‹ˆë‹¤. ì´ëŸ¬í•œ ì°¨ì´ì ìœ¼ë¡œ ì¸í•´ Yarn BerryëŠ” ì„¤ì¹˜ ì†ë„ê°€ ë¹ ë¥´ê³  ë””ìŠ¤í¬ ê³µê°„ì„ ì ˆì•½í•˜ë©° í˜¸í™˜ì„± ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ Yarn BerryëŠ” ì•„ì§ ìƒˆë¡œìš´ ë²„ì „ì´ê¸° ë•Œë¬¸ì— ì¼ë¶€ íˆ´ì´ë‚˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ì˜ í˜¸í™˜ì„± ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ í”„ë¡œì íŠ¸ì˜ íŠ¹ì„±ê³¼ ìš”êµ¬ì‚¬í•­ì— ë”°ë¼ ì ì ˆí•œ ë²„ì „ì„ ì„ íƒí•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.

### References

(1) [Migration | Yarn - Package Manager](https://yarnpkg.com/getting-started/migration/)
(2) [GitHub - yarnpkg/berry: ğŸ“¦ğŸˆ Active development trunk for Yarn âš’](https://github.com/yarnpkg/berry)
(3) [yarnpkg - Difference between yarn versions - Stack Overflow](https://stackoverflow.com/questions/71634861/difference-between-yarn-versions)

## Yarn Berryì˜ ì¥ì 

- ì„¤ì¹˜ ì‹œê°„ì´ ë¹ ë¦…ë‹ˆë‹¤. zip íŒŒì¼ë¡œ ëª¨ë“ˆì„ ê´€ë¦¬í•˜ê³  ìºì‹œë¥¼ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— node_modules í´ë”ë¥¼ ìƒì„±í•˜ê±°ë‚˜ ì˜ì¡´ì„±ì„ ë‹¤ìš´ë¡œë“œí•  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤.
- ë””ìŠ¤í¬ ê³µê°„ì„ ì ˆì•½í•©ë‹ˆë‹¤. zip íŒŒì¼ì€ ì¼ë°˜ íŒŒì¼ë³´ë‹¤ ìš©ëŸ‰ì´ ì‘ìœ¼ë©°, ìºì‹œë¥¼ ê³µìœ í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì¤‘ë³µëœ ëª¨ë“ˆì„ ì €ì¥í•  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤.
- í˜¸í™˜ì„± ë¬¸ì œë¥¼ í•´ê²°í•©ë‹ˆë‹¤. PnP ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë©´ ëª¨ë“ˆ ê°„ì˜ ì¶©ëŒì´ë‚˜ ë²„ì „ ë¬¸ì œë¥¼ ë°©ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## Yarn Berryì˜ ë‹¨ì 

- ì €ì¥ì†Œ í¬ê¸°ê°€ ì¦ê°€í•©ë‹ˆë‹¤. zip íŒŒì¼ì„ ì €ì¥ì†Œì— í‘¸ì‹œí•˜ë©´ gitì´ ëª¨ë“  ë³€ê²½ ë‚´ì—­ì„ ê¸°ì–µí•˜ê¸° ë•Œë¬¸ì— ì €ì¥ì†Œì˜ í¬ê¸°ê°€ ì»¤ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- í´ë¡  ì‹œê°„ì´ ì¦ê°€í•©ë‹ˆë‹¤. ì €ì¥ì†Œ í¬ê¸°ê°€ ì»¤ì§€ë©´ í´ë¡ í•˜ëŠ”ë° ê±¸ë¦¬ëŠ” ì‹œê°„ë„ ê¸¸ì–´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ì¼ë¶€ íˆ´ì´ë‚˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ í˜¸í™˜ë˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. Yarn BerryëŠ” ì•„ì§ ìƒˆë¡œìš´ ë²„ì „ì´ê¸° ë•Œë¬¸ì— ì¼ë¶€ íˆ´ì´ë‚˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ node_modules í´ë”ë‚˜ package.json íŒŒì¼ì— ì˜ì¡´í•˜ëŠ” ê²½ìš° í˜¸í™˜ì„± ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë”°ë¼ì„œ Yarn Berryë¥¼ ì‚¬ìš©í•˜ê¸° ì „ì— í”„ë¡œì íŠ¸ì˜ íŠ¹ì„±ê³¼ ìš”êµ¬ì‚¬í•­ì— ë”°ë¼ ì¥ë‹¨ì ì„ ê³ ë ¤í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.ğŸ˜Š

### References

(1) [Should i push the .yarn/cache folder to Github - Yarn2](https://stackoverflow.com/questions/69885538/should-i-push-the-yarn-cache-folder-to-github-yarn2)
(2) [State of Yarn 2 (Berry) in 2021 Â· Hao's learning log](https://blog.hao.dev/state-of-yarn-2-berry-in-2021/)
(3) [Yarn 1 vs Yarn 2 vs NPM - Medium](https://shift.infinite.red/yarn-1-vs-yarn-2-vs-npm-a69ccf0229cd)

## Yarn Berry don't need package.json?

Yarn BerryëŠ” package.json íŒŒì¼ì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²ƒì´ ì•„ë‹ˆë¼, package.json íŒŒì¼ì— ë²„ì „ ì •ë³´ë¥¼ ê¸°ë¡í•˜ì§€ ì•ŠëŠ” ê²ƒì…ë‹ˆë‹¤. Yarn BerryëŠ” ëŒ€ì‹  .yarnrc.yml íŒŒì¼ì— ë²„ì „ ì •ë³´ë¥¼ ê¸°ë¡í•©ë‹ˆë‹¤. ë”°ë¼ì„œ package.json íŒŒì¼ì€ ì—¬ì „íˆ í”„ë¡œì íŠ¸ì˜ ì´ë¦„, ì„¤ëª…, ìŠ¤í¬ë¦½íŠ¸ ë“±ì˜ ì •ë³´ë¥¼ ë‹´ê³  ìˆìŠµë‹ˆë‹¤.ğŸ˜Š

## Yarn Berryë¥¼ ì‚¬ìš©í•˜ëŠ” Node.js í”„ë¡œì íŠ¸ì˜ gitignore íŒŒì¼ì„ ì‘ì„±í•˜ëŠ” ë°©ë²•

- .yarn í´ë” ë‚´ì— ìˆëŠ” ìºì‹œ íŒŒì¼ë“¤ì€ ì €ì¥ì†Œì— ì»¤ë°‹í•˜ì§€ ì•ŠëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤. ì´ íŒŒì¼ë“¤ì€ zip íŒŒì¼ë¡œ ì••ì¶•ëœ ëª¨ë“ˆë“¤ì´ë©°, ì €ì¥ì†Œì˜ ìš©ëŸ‰ì„ ì¦ê°€ì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ .yarn/cache í´ë”ë¥¼ gitignore íŒŒì¼ì— ì¶”ê°€í•©ë‹ˆë‹¤.
- .yarn í´ë” ë‚´ì— ìˆëŠ” ì„¤ì • íŒŒì¼ë“¤ì€ ì €ì¥ì†Œì— ì»¤ë°‹í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤. ì´ íŒŒì¼ë“¤ì€ Yarn Berryì˜ ë²„ì „ ì •ë³´ë‚˜ PnP ì„¤ì • ë“±ì„ ë‹´ê³  ìˆìœ¼ë©°, í”„ë¡œì íŠ¸ì˜ ì˜ì¡´ì„± ê´€ë¦¬ì— í•„ìš”í•©ë‹ˆë‹¤. ë”°ë¼ì„œ .yarnrc.yml íŒŒì¼ì´ë‚˜ .pnp.js íŒŒì¼ ë“±ì„ gitignore íŒŒì¼ì—ì„œ ì œì™¸í•©ë‹ˆë‹¤.
- node_modules í´ë”ëŠ” Yarn Berryë¥¼ ì‚¬ìš©í•˜ë©´ ìƒì„±ë˜ì§€ ì•Šìœ¼ë¯€ë¡œ gitignore íŒŒì¼ì— ì¶”ê°€í•  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤.

ë”°ë¼ì„œ Yarn Berryë¥¼ ì‚¬ìš©í•˜ëŠ” Node.js í”„ë¡œì íŠ¸ì˜ gitignore íŒŒì¼ì€ ë‹¤ìŒê³¼ ê°™ì´ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```gitignore
# Ignore cache files
.yarn/cache

# Do not ignore settings files
!.yarnrc.yml
!.pnp.js
```

### References

(1) [berry/.gitignore at master Â· yarnpkg/berry Â· GitHub](https://github.com/yarnpkg/berry/blob/master/.gitignore)
(2) [[Question] What files should be listed in `.gitignore` ? Â· Issue #454 Â· yarnpkg/berry](https://github.com/yarnpkg/berry/issues/454)
(3) [Better gitignore for Yarn 2 (berry) see [https://github.com/github/gitignore/pull/3479]](https://gist.github.com/nickmccurdy/d64ed8aeb4ed4e44a8eeb8c803a8402c)

## Yarn Classicì—ì„œ Yarn Berryë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜í•  ë•Œ ìˆ˜ì •í•´ì•¼ í•  ì‚¬í•­

- Yarn Berryë¥¼ í™œì„±í™”í•©ë‹ˆë‹¤. `yarn set version berry` ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ë©´ í”„ë¡œì íŠ¸ì— .yarn í´ë”ì™€ .yarnrc.yml íŒŒì¼ì´ ìƒì„±ë©ë‹ˆë‹¤. ì´ íŒŒì¼ë“¤ì€ Yarn Berryì˜ ë²„ì „ ì •ë³´ì™€ ì„¤ì •ì„ ë‹´ê³  ìˆìŠµë‹ˆë‹¤.
- ì„¤ì • íŒŒì¼ì„ ìƒˆë¡œìš´ í˜•ì‹ìœ¼ë¡œ ë³€í™˜í•©ë‹ˆë‹¤. ë§Œì•½ .npmrcë‚˜ .yarnrc íŒŒì¼ì„ ì‚¬ìš©í–ˆë‹¤ë©´, ì´ íŒŒì¼ë“¤ì„ .yarnrc.yml íŒŒì¼ì— ë³‘í•©í•´ì•¼ í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, `registry "https://registry.yarnpkg.com"` ë¼ëŠ” ì„¤ì •ì€ `npmRegistryServer: "https://registry.yarnpkg.com"` ë¡œ ë°”ê¿”ì•¼ í•©ë‹ˆë‹¤.
- ì˜ì¡´ì„±ì„ ì„¤ì¹˜í•©ë‹ˆë‹¤. `yarn install` ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ë©´ ì˜ì¡´ì„±ë“¤ì´ zip íŒŒì¼ë¡œ ì••ì¶•ë˜ì–´ .yarn/cache í´ë”ì— ì €ì¥ë©ë‹ˆë‹¤. ë˜í•œ PnP ëª¨ë“œê°€ ê¸°ë³¸ì ìœ¼ë¡œ í™œì„±í™”ë˜ë¯€ë¡œ node_modules í´ë”ê°€ ìƒì„±ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
- í˜¸í™˜ì„± ë¬¸ì œë¥¼ í•´ê²°í•©ë‹ˆë‹¤. ì¼ë¶€ íˆ´ì´ë‚˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ Yarn Berryì™€ í˜¸í™˜ë˜ì§€ ì•ŠëŠ” ê²½ìš°ê°€ ìˆìŠµë‹ˆë‹¤. ì´ëŸ° ê²½ìš°ì—ëŠ” PnP íŒ¨ì¹˜ë‚˜ í”ŒëŸ¬ê·¸ì¸ì„ ì‚¬ìš©í•˜ê±°ë‚˜, loose ëª¨ë“œë‚˜ nodeLinker ì˜µì…˜ì„ ì‚¬ìš©í•˜ì—¬ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë”°ë¼ì„œ Yarn Classicì—ì„œ Yarn Berryë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜í•  ë•Œ ì²´í¬ë¦¬ìŠ¤íŠ¸ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```TODO
- [ ] yarn set version berry ëª…ë ¹ì–´ ì‹¤í–‰
- [ ] ì„¤ì • íŒŒì¼ ë³€í™˜
- [ ] yarn install ëª…ë ¹ì–´ ì‹¤í–‰
- [ ] í˜¸í™˜ì„± ë¬¸ì œ í•´ê²°
```

### References

(1) [Migration | Yarn - Package Manager](https://yarnpkg.com/getting-started/migration/)
(2) [Feedback on Yarn 3 migration from Yarn classic Â· Discussion #3448 Â· yarnpkg/berry ...](https://github.com/yarnpkg/berry/discussions/3448)
(3) [yarnpkg/yarn: The 1.x line is frozen - GitHub](https://github.com/yarnpkg/yarn)

## ì‚¬ìš© ë°©ë²•ì´ë‚˜ í”Œë˜ê·¸ê°€ ë³€ê²½(deprecated)ëœ ì¼ë¶€ ëª…ë ¹ì–´ë“¤

Yarn Berryì—ì„œ ëª¨ë“  ëª…ë ¹ì–´ë“¤ì´ ë°”ë€ ê²ƒì€ ì•„ë‹ˆì§€ë§Œ, ì¼ë¶€ ëª…ë ¹ì–´ë“¤ì€ ì‚¬ìš© ë°©ë²•ì´ë‚˜ í”Œë˜ê·¸ê°€ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´:

- `yarn install` ëª…ë ¹ì–´ëŠ” ì´ì œ `--frozen-lockfile` í”Œë˜ê·¸ê°€ ê¸°ë³¸ê°’ì…ë‹ˆë‹¤. ë§Œì•½ ì˜ì¡´ì„±ì„ ì—…ë°ì´íŠ¸í•˜ê³  ì‹¶ë‹¤ë©´ `--check-cache` í”Œë˜ê·¸ë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.
- `yarn start`, `yarn run`, `yarn add` ë“±ì˜ ëª…ë ¹ì–´ëŠ” ì´ì œ Node í™˜ê²½ ë³€ìˆ˜ë¥¼ ì£¼ì…í•˜ê¸° ìœ„í•´ `yarn node`ë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, `yarn node index.js` ë˜ëŠ” `yarn node -p "process.versions.pnp"`ì™€ ê°™ì´ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- `yarn global` ëª…ë ¹ì–´ëŠ” ì´ì œ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ëŒ€ì‹ ì— Yarn Berryì—ì„œ ì œê³µí•˜ëŠ” ì½”ì–´ íŒ¨í‚¤ì§€ë‚˜ í”ŒëŸ¬ê·¸ì¸ íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•˜ê³  ì‹¶ë‹¤ë©´ `yarn dlx` ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë”°ë¼ì„œ ë°”ë€Œê¸° ì „ì˜ ëª…ë ¹ì–´ -> ë°”ë€ ëª…ë ¹ì–´ í˜•ì‹ì˜ ë¦¬ìŠ¤íŠ¸ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```changeLog
- yarn install -> yarn install --check-cache
- yarn start/run/add ... -> yarn node start/run/add ...
- yarn global ... -> yarn dlx ...
```

ìƒˆë¡­ê²Œ ìƒê¸´ ëª…ë ¹ì–´ ë¦¬ìŠ¤íŠ¸ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```changeLog
- yarn set version: Yarn ë²„ì „ì„ ì„¤ì •í•˜ê±°ë‚˜ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤.
- yarn up: ì˜ì¡´ì„±ì„ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤.
- yarn patch: ì˜ì¡´ì„±ì— íŒ¨ì¹˜ë¥¼ ì ìš©í•©ë‹ˆë‹¤.
- yarn plugin: Yarn í”ŒëŸ¬ê·¸ì¸ì„ ê´€ë¦¬í•©ë‹ˆë‹¤.
- yarn workspaces: ì›Œí¬ìŠ¤í˜ì´ìŠ¤ì— ê´€í•œ ì •ë³´ë¥¼ ì¶œë ¥í•©ë‹ˆë‹¤.
```

ì‚¬ë¼ì§€ê±°ë‚˜ ë” ì´ìƒ ê¶Œì¥í•˜ì§€ ì•ŠëŠ” ëª…ë ¹ì–´ ë¦¬ìŠ¤íŠ¸ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```changeLog
- yarn global: ê¸€ë¡œë²Œ íŒ¨í‚¤ì§€ ì„¤ì¹˜ ê¸°ëŠ¥ì´ ì œê±°ë˜ì—ˆìŠµë‹ˆë‹¤.
- yarn upgrade: ëŒ€ì‹ ì— yarn upì„ ì‚¬ìš©í•˜ì„¸ìš”.
- yarn upgrade-interactive: ëŒ€ì‹ ì— \--interactive ì˜µì…˜ì„ ì¶”ê°€í•˜ì„¸ìš”.
```

### References

(1) [GitHub - yarnpkg/berry: ğŸ“¦ğŸˆ Active development trunk for Yarn âš’](https://github.com/yarnpkg/berry)
(2) [CLI Introduction | Yarn](https://classic.yarnpkg.com/lang/en/docs/cli/)
(3) [Migration | Yarn - Package Manager](https://yarnpkg.com/getting-started/migration/)

## Migration from Yarn Classic to Yarn Berry (Example)

ë¦¬ì•¡íŠ¸ ë„¤ì´í‹°ë¸Œ ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ package.json ë‚´ìš©ì„ Yarn Berryë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜í•˜ê¸° ìœ„í•´ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì ˆì°¨ë¥¼ ë”°ë¼ì•¼ í•©ë‹ˆë‹¤:

- `yarn set version berry` ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ì—¬ Yarn ë²„ì „ì„ 2ë¡œ ì„¤ì •í•©ë‹ˆë‹¤. ì´ ëª…ë ¹ì–´ëŠ” `.yarnrc.yml` íŒŒì¼ê³¼ `.yarn/releases/yarn-berry.cjs` íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤.
- ë§Œì•½ `.npmrc` ë˜ëŠ” `.yarnrc` íŒŒì¼ì„ ì‚¬ìš©í•˜ê³  ìˆë‹¤ë©´, ìƒˆë¡œìš´ í˜•ì‹ìœ¼ë¡œ ë³€í™˜í•´ì•¼ í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, `registry "https://registry.yarnpkg.com"` ëŠ” `npmRegistryServer: "https://registry.yarnpkg.com"` ë¡œ ë°”ë€Œì–´ì•¼ í•©ë‹ˆë‹¤.
- `.yarnrc.yml` íŒŒì¼ì— `nodeLinker: node-modules` ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤. ì´ ì˜µì…˜ì€ ê¸°ì¡´ì˜ node_modules í´ë”ë¥¼ ì‚¬ìš©í•˜ë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤. ë§Œì•½ PnP ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ê³  ì‹¶ë‹¤ë©´ ì´ ì˜µì…˜ì„ ìƒëµí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- `yarn install` ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ì—¬ ì˜ì¡´ì„±ì„ ì„¤ì¹˜í•˜ê³  lock íŒŒì¼ì„ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤.

ë”°ë¼ì„œ ìˆ˜ì •ëœ package.json ë‚´ìš©ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:

```jsonc
{
  "name": "@dongminyu/react-native-step-counter",
  "version": "0.1.11",
  "private": false,
  "summary": "It is a multi-platform library that combines CoreMotionSensor from iOS with SensorEventListener from Android.",
  "description": "This library provides an interface for tracking the number of steps taken by the user in a React Native app.",
  "main": "lib/commonjs/index",
  "module": "lib/module/index",
  "types": "lib/typescript/index.d.ts",
  "react-native": "src/index",
  "source": "src/index", // files í•„ë“œì— .yarn í´ë”ì™€ .pnp.js íŒŒì¼ì„ ì¶”ê°€í•©ë‹ˆë‹¤ // ë§Œì•½ PnP ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ .pnp.js íŒŒì¼ì€ ì œì™¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤ // .gitignore íŒŒì¼ì—ë„ ë™ì¼í•œ ë‚´ìš©ì„ ì¶”ê°€í•´ì•¼ í•©ë‹ˆë‹¤ // https://github.com/yarnpkg/berry/blob/master/.gitignore#L8-L9 // https://github.com/yarnpkg/berry/blob/master/package.json#L16-L17 // https://github.com/yarnpkg/berry/blob/master/.npmignore#L1-L2 // ì°¸ê³ í•˜ì„¸ìš”
  "files": [".yarn/**/*", ".pnp.js"],
  "scripts": {
    // yarn install ëª…ë ¹ì–´ì— \--check-cache í”Œë˜ê·¸ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤
    // https://yarnpkg.com/getting-started/migration/#update-your-install-script-if-needed
    // ì°¸ê³ í•˜ì„¸ìš”
    "bootstrap": "yarn install --check-cache && yarn example install && yarn example pods && yarn example gradle"
  }
}
```

### References

(1) [Migration | Yarn - Package Manager](https://yarnpkg.com/getting-started/migration/)
(2) [GitHub - yarnpkg/berry: ğŸ“¦ğŸˆ Active development trunk for Yarn âš’](https://github.com/yarnpkg/berry)
(3) [Yarn: How to upgrade yarn version using terminal?](https://stackoverflow.com/questions/49689174/yarn-how-to-upgrade-yarn-version-using-terminal)

## Make Alias to Make Easy to Use Yarn Berry

Yarn Berryì—ì„œëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ëª…ë ¹ì–´ì— ëŒ€í•œ ë³„ì¹­(alias) ê¸°ëŠ¥ì„ ì œê³µí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì´ëŠ” Yarnì˜ í•µì‹¬ ì² í•™ ì¤‘ í•˜ë‚˜ì¸ ë‹¨ìˆœì„±ì„ ì§€í‚¤ê¸° ìœ„í•œ ê²°ì •ì…ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ë§Œì•½ ì‚¬ìš©ìê°€ ë³„ì¹­ ê¸°ëŠ¥ì„ ì›í•œë‹¤ë©´, ë‹¤ìŒê³¼ ê°™ì€ ë°©ë²•ë“¤ì´ ìˆìŠµë‹ˆë‹¤:

- ì‰˜(shell)ì—ì„œ ë³„ì¹­ì„ ì„¤ì •í•˜ëŠ” ë°©ë²•. ì˜ˆë¥¼ ë“¤ì–´, `alias y= "yarn"` ê³¼ ê°™ì´ ì‰˜ ì„¤ì • íŒŒì¼ì— ë³„ì¹­ì„ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ë°©ë²•ì€ ê°„ë‹¨í•˜ê³  í¸ë¦¬í•˜ì§€ë§Œ, ì‰˜ë§ˆë‹¤ ë‹¤ë¥¸ ë°©ì‹ìœ¼ë¡œ ì„¤ì •í•´ì•¼ í•˜ê³ , ëª¨ë“  íŒ€ì›ì´ ë™ì¼í•œ ë³„ì¹­ì„ ì‚¬ìš©í•˜ê¸° ì–´ë µë‹¤ëŠ” ë‹¨ì ì´ ìˆìŠµë‹ˆë‹¤.
- Yarn í”ŒëŸ¬ê·¸ì¸(plugin)ì„ ì‚¬ìš©í•˜ëŠ” ë°©ë²•. Yarn Berryì—ì„œëŠ” í”ŒëŸ¬ê·¸ì¸ ì‹œìŠ¤í…œì„ ë„ì…í•˜ì—¬ ì‚¬ìš©ìê°€ ì»¤ìŠ¤í…€ ëª…ë ¹ì–´ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë„ë¡ ì§€ì›í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, `yarn plugin import https://github.com/yarnpkg/berry/raw/master/packages/plugin-aliases/sources/index.ts` ì™€ ê°™ì´ í”ŒëŸ¬ê·¸ì¸ì„ ì„¤ì¹˜í•˜ë©´ `yarn add` ëŒ€ì‹  `yarn a` ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ë°©ë²•ì€ í”„ë¡œì íŠ¸ë³„ë¡œ ì¼ê´€ëœ ë³„ì¹­ì„ ì‚¬ìš©í•  ìˆ˜ ìˆê³ , Yarnì˜ ê¸°ëŠ¥ì„ í™•ì¥í•  ìˆ˜ ìˆë‹¤ëŠ” ì¥ì ì´ ìˆìŠµë‹ˆë‹¤.

### References

(1) [Adding Command Line Aliases for Yarn | Yarn Blog](https://classic.yarnpkg.com/blog/2017/06/19/adding-command-line-aliases-for-yarn/)
(2) [Useful aliases for Yarn Â· GitHub](https://gist.github.com/DanyloMoraes/ebcf380f3c5264162786197ec1c82cf4)
(3) [[Feature] Command aliases Â· Issue #3077 Â· yarnpkg/berry](https://github.com/yarnpkg/berry/issues/3077)
(4) [CLI Introduction | Yarn](https://classic.yarnpkg.com/lang/en/docs/cli/)

## How to Set Default Option to Yarn Install

ë¦¬í¬ì§€í† ë¦¬ ë‚´ì˜ yarn ì„¤ì •íŒŒì¼ì„ ì‘ì„±í•´ yarn installì˜ ê¸°ë³¸ optionì„ "--check-cache" ì™€ê°™ì€ ê²ƒìœ¼ë¡œ ë””í´íŠ¸í•˜ê³  ì´ ì™¸ ì˜µì…˜ì„ ì‚¬ìš©í•˜ë©´ ê·¸ ì˜µì…˜ì´ ì ìš©ë˜ë„ë¡ ë¶€íŠ¸ìŠ¤íŠ¸ë©í•  ìˆ˜ ìˆë‚˜?

Yarn Berryì—ì„œëŠ” `.yarnrc.yml` íŒŒì¼ì„ ì‚¬ìš©í•˜ì—¬ Yarnì˜ ë‚´ë¶€ ì„¤ì •ì„ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ íŒŒì¼ì€ í”„ë¡œì íŠ¸ì˜ ë£¨íŠ¸ ë””ë ‰í† ë¦¬ì— ìœ„ì¹˜í•´ì•¼ í•˜ë©°, ë‹¤ìŒê³¼ ê°™ì€ í˜•ì‹ìœ¼ë¡œ ì˜µì…˜ì„ ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```yaml
yarnPath: ".yarn/releases/yarn-berry.cjs"
nodeLinker: "pnp"
initFields:
Â  license: "MIT"
Â  version: "1.0.0"
npmRegistryServer: "https://registry.yarnpkg.com"
npmPublishRegistry: "https://registry.npmjs.org"
```

ì´ ì˜ˆì‹œì—ì„œëŠ” `yarn install` ì˜ ê¸°ë³¸ ì˜µì…˜ì„ `--check-cache` ë¡œ ì„¤ì •í•˜ê³  ì‹¶ë‹¤ë©´, ë‹¤ìŒê³¼ ê°™ì´ `installConfig.checkCache` í•­ëª©ì„ ì¶”ê°€í•˜ë©´ ë©ë‹ˆë‹¤:

```yaml
installConfig:
Â  checkCache: true
```

ì´ë ‡ê²Œ í•˜ë©´ `yarn install` ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•  ë•Œë§ˆë‹¤ ìºì‹œëœ íŒŒì¼ë“¤ì˜ ë¬´ê²°ì„±ì„ ê²€ì‚¬í•˜ê²Œ ë©ë‹ˆë‹¤. ë§Œì•½ ë‹¤ë¥¸ ì˜µì…˜ì„ ì‚¬ìš©í•˜ê³  ì‹¶ë‹¤ë©´ ëª…ë ¹ì–´ì— ì§ì ‘ ì¶”ê°€í•˜ë©´ ë©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, `--immutable` ì˜µì…˜ì„ ì‚¬ìš©í•˜ê³  ì‹¶ë‹¤ë©´ `yarn install --immutable` ê³¼ ê°™ì´ ì…ë ¥í•˜ë©´ ë©ë‹ˆë‹¤.

### References

(1) [Configuration options | Yarn - Package Manager](https://yarnpkg.com/configuration/yarnrc/)
(2) [yarn config | Yarn](https://classic.yarnpkg.com/lang/en/docs/cli/config/)
(3) [Migration | Yarn - Package Manager](https://yarnpkg.com/getting-started/migration/)

## How to Update Dependencies with Yarn Berry

ë‚˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ ì „ì²´ ì˜ì¡´ì„±ì„ ì—…ë°ì´íŠ¸í•˜ëŠ” 'yarn update --audit --latest'ë¥¼ ìì£¼ ì‚¬ìš©í•˜ëŠ”ë° ê°™ì€ ë°©ë²•ìœ¼ë¡œ yarn upì— ì ìš©í•  ìˆ˜ ìˆë‚˜?

Yarn Berryì—ì„œëŠ” `yarn up` ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ ì˜ì¡´ì„±ì„ ì—…ë°ì´íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ëª…ë ¹ì–´ëŠ” `package.json` íŒŒì¼ì— ìˆëŠ” ë²„ì „ ë²”ìœ„ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë¥¼ ìˆ˜í–‰í•˜ë©°, ë‹¤ìŒê³¼ ê°™ì€ ì˜µì…˜ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

- `--latest`: ë²„ì „ ë²”ìœ„ì™€ ìƒê´€ì—†ì´ ìµœì‹  ë²„ì „ìœ¼ë¡œ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤.
- `--caret`, `--tilde`, `--exact`: ì—…ë°ì´íŠ¸ í›„ì— `package.json` íŒŒì¼ì— ì ìš©í•  ë²„ì „ ë²”ìœ„ì˜ ì ‘ë‘ì‚¬ë¥¼ ì§€ì •í•©ë‹ˆë‹¤.
- `--audit`: ì˜ì¡´ì„±ì„ ì—…ë°ì´íŠ¸í•˜ê¸° ì „ì— ë³´ì•ˆ ì·¨ì•½ì ì„ ê²€ì‚¬í•©ë‹ˆë‹¤.
- ë”°ë¼ì„œ, ì§ˆë¬¸í•˜ì‹  ëª…ë ¹ì–´ì™€ ë™ì¼í•œ ê¸°ëŠ¥ì„ í•˜ë ¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì…ë ¥í•˜ë©´ ë©ë‹ˆë‹¤:

```sh
yarn up --audit --latest
```

### References

(1) [GitHub - yarnpkg/berry: ğŸ“¦ğŸˆ Active development trunk for Yarn âš’](https://github.com/yarnpkg/berry)
(2) [Yarn: How to upgrade yarn version using terminal?](https://stackoverflow.com/questions/49689174/yarn-how-to-upgrade-yarn-version-using-terminal)
(3) [yarn upgrade | Yarn](https://classic.yarnpkg.com/lang/en/docs/cli/upgrade/)

## How to Reset Yarn and Node.js Cache

Yarnì˜ ë¡œì»¬ ìºì‹œë¥¼ ë¦¬ì…‹í•˜ëŠ” ë°©ë²•ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:

- `yarn cache clean` ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ í˜„ì¬ í”„ë¡œì íŠ¸ì˜ ë¡œì»¬ ìºì‹œë¥¼ ì‚­ì œí•©ë‹ˆë‹¤.
- `yarn cache clean --mirror` ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ ì „ì—­ ìºì‹œë¥¼ ì‚­ì œí•©ë‹ˆë‹¤.
- `yarn cache clean <module_name>` ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ íŠ¹ì • ëª¨ë“ˆì˜ ìºì‹œë§Œ ì‚­ì œí•©ë‹ˆë‹¤.

Node.jsì˜ ë¡œì»¬ ìºì‹œë¥¼ ë¦¬ì…‹í•˜ëŠ” ë°©ë²•ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:

- `npm cache clean --force` ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ ì „ì—­ ìºì‹œë¥¼ ì‚­ì œí•©ë‹ˆë‹¤.
- `npm cache verify` ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ ìºì‹œì˜ ë¬´ê²°ì„±ì„ ê²€ì‚¬í•˜ê³  ì˜¤ë˜ëœ ë°ì´í„°ë¥¼ ì œê±°í•©ë‹ˆë‹¤.

Yarn Berryì˜ ìºì‹œë¥¼ ì‚­ì œí•˜ëŠ” ë°©ë²•ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:

- `.yarn/cache` í´ë”ë¥¼ ì‚­ì œí•˜ë©´ ë¡œì»¬ ìºì‹œë¥¼ ì‚­ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ í´ë”ëŠ” í”„ë¡œì íŠ¸ì˜ ë£¨íŠ¸ ë””ë ‰í† ë¦¬ì— ìœ„ì¹˜í•˜ë©°, `yarn install` ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•  ë•Œë§ˆë‹¤ ë‹¤ì‹œ ìƒì„±ë©ë‹ˆë‹¤.
- `.yarn/berry/cache` í´ë”ë¥¼ ì‚­ì œí•˜ë©´ ì „ì—­ ìºì‹œë¥¼ ì‚­ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ í´ë”ëŠ” Yarn Berryì˜ ì„¤ì¹˜ ê²½ë¡œì— ìœ„ì¹˜í•˜ë©°, PnP ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ë•Œ íŒ¨í‚¤ì§€ íŒŒì¼ì„ ì½ì–´ì˜¤ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤. ì´ í´ë”ë„ `yarn install` ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•  ë•Œë§ˆë‹¤ ë‹¤ì‹œ ìƒì„±ë©ë‹ˆë‹¤.

### References

(1) [`yarn cache clean` | Yarn - Package Manager](https://yarnpkg.com/cli/cache/clean/)
(2) [yarn cache | Yarn](https://classic.yarnpkg.com/lang/en/docs/cli/cache/)
(3) [yarnpkg - How to clear cache in Yarn? - Stack Overflow](https://stackoverflow.com/questions/39991508/how-to-clear-cache-in-yarn)
(4) [yarn cache | Yarn](https://classic.yarnpkg.com/lang/en/docs/cli/cache/)
(5) [What is the .yarn/berry/cache folder for when using Yarn 3?](https://stackoverflow.com/questions/70699473/what-is-the-yarn-berry-cache-folder-for-when-using-yarn-3)
(6) [Offline Cache | Yarn - Package Manager](https://yarnpkg.com/features/offline-cache/)

## What is PnP Feature in Yarn Berry?

Yarn Berryì˜ PnP ê¸°ëŠ¥ì€ node_modules ë””ë ‰í† ë¦¬ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  íŒ¨í‚¤ì§€ ì˜ì¡´ì„±ì„ ê´€ë¦¬í•˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤. PnPëŠ” package.json íŒŒì¼ì„ ê¸°ë°˜ìœ¼ë¡œ ì˜ì¡´ì„± íŠ¸ë¦¬ë¥¼ ìƒì„±í•˜ê³ ,.yarn/cache í´ë”ì— ì˜ì¡´ì„± ì •ë³´ë¥¼ ì €ì¥í•˜ê³ .pnp.cjs íŒŒì¼ì— ì˜ì¡´ì„±ì„ ì°¾ì„ ìˆ˜ ìˆëŠ” ì •ë³´ê°€ ê¸°ë¡ë©ë‹ˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ íŒ¨í‚¤ì§€ ì„¤ì¹˜ ì‹œê°„ê³¼ ë””ìŠ¤í¬ ê³µê°„ì„ ì ˆì•½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ PnPëŠ” zero installì´ë¼ëŠ” ê¸°ëŠ¥ì„ ì§€ì›í•˜ì—¬ í”„ë¡œì íŠ¸ë¥¼ ë³µì œí•  ë•Œ ë³„ë„ì˜ ì„¤ì¹˜ ê³¼ì • ì—†ì´ ë°”ë¡œ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### References

(1) [Yarn Berry ë„ì… (feat. pnp)](https://velog.io/@thkim/Yarn-Berry)
(2) [[Yarn berry] pnp (Plug And Play), Zero Installì„ ìœ„í•œ Dependency ë¬¸ì œ ...](https://helloinyong.tistory.com/341)
(3) [[Yarn berry] pnp(Plug And Play), Zero Installì„ ìœ„í•œ Dependency ë¬¸ì œ í•´ê²°í•˜ê¸°](https://helloinyong.tistory.com/m/341)
(4) [Yarn Berryì˜ PnP(Plug'n'Play) ì‚´í´ë³´ê¸°](https://velog.io/@dami/Yarn-berry-PnP)

## Is there Some Issue can happen If I don't migrate to Yarn Berry?

Yarn Classic ë²„ì „ì„ ê³„ì†í•´ì„œ ëŒ€ê·œëª¨ ìƒì—…ì  ì„œë¹„ìŠ¤ì— ì´ìš©í•  ë•Œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ê´€ë ¨ ì´ìŠˆì—ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ê²ƒë“¤ì´ ìˆìŠµë‹ˆë‹¤.

- nodejs ëŒ€ì‹  node ì´ë¦„ì„ ì‚¬ìš©í•˜ëŠ” ì¼ë¶€ ë°°í¬íŒì—ì„œ yarnì´ nodeê°€ ì„¤ì¹˜ë˜ì§€ ì•Šì•˜ë‹¤ê³  ë¶ˆí‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- node_modules ë””ë ‰í† ë¦¬ê°€ í”„ë¡œì íŠ¸ë§ˆë‹¤ ì¤‘ë³µë˜ì–´ ë””ìŠ¤í¬ ê³µê°„ì„ ë‚­ë¹„í•˜ê³  ì„¤ì¹˜ ì‹œê°„ì„ ëŠ˜ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- í”„ë¡œì íŠ¸ê°€ ë‚´ ì»´í“¨í„°ì—ì„œ ì‘ë™í•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ë¬¸ì œë¥¼ ì¼ìœ¼í‚¬ ìˆ˜ ìˆëŠ” ì˜ì¡´ì„± í•´ê²° ë°©ì‹ì˜ í•œê³„ê°€ ìˆìŠµë‹ˆë‹¤.
- Yarn 2ì™€ ë¹„êµí•˜ì—¬ ìƒˆë¡œìš´ ê¸°ëŠ¥ì´ë‚˜ ê°œì„ ì‚¬í•­ì´ ì œê³µë˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### References

(1) [Installation | Yarn](https://classic.yarnpkg.com/lang/en/docs/install/)
(2) [Migration | Yarn - Package Manager](https://yarnpkg.com/getting-started/migration/)
(3) [Issues Â· yarnpkg/yarn Â· GitHub](https://github.com/yarnpkg/yarn/issues)

## Yarn Berry is not compatible with Yarn Classic?

Yarn 2ê°€ ê¸°ì¡´ì˜ í”„ë¡œì íŠ¸ êµ¬ì¡°ë‚˜ ì„¤ì •ê³¼ ì¶©ëŒí• ê¹Œë´ ê±±ì • í•˜ì‹œëŠ”êµ°ìš”. Yarn 2ê°€ ê¸°ì¡´ì˜ í”„ë¡œì íŠ¸ êµ¬ì¡°ë‚˜ ì„¤ì •ê³¼ ì¶©ëŒí•  ìˆ˜ ìˆëŠ” ì´ìœ  ì¤‘ í•˜ë‚˜ëŠ” Yarn 2ê°€ ìƒˆë¡œìš´ Plug'n'Play (PnP) ì•„í‚¤í…ì²˜ë¥¼ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. PnPëŠ” íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•˜ëŠ” node_modules/ í´ë”ë¥¼ ì—†ì• ê³  ëŒ€ì‹  .pnp.js íŒŒì¼ì„ ìƒì„±í•˜ì—¬ ì˜ì¡´ì„±ì„ ê´€ë¦¬í•©ë‹ˆë‹¤. ì´ ë°©ì‹ì€ ë””ìŠ¤í¬ ê³µê°„ê³¼ ì„¤ì¹˜ ì‹œê°„ì„ ì ˆì•½í•˜ê³  ì˜ì¡´ì„± í•´ê²° ë°©ì‹ì„ ê°œì„ í•˜ì§€ë§Œ, node_modules/ í´ë”ì— ì˜ì¡´í•˜ëŠ” ì¼ë¶€ IDEë‚˜ íˆ´ê³¼ í˜¸í™˜ë˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ê±±ì •í•˜ì§€ ë§ˆì„¸ìš”. Yarn 2ëŠ” nodeLinker: node-modules ì˜µì…˜ì„ í†µí•´ ê¸°ì¡´ì˜ node_modules/ í´ë”ë¥¼ ìœ ì§€í•  ìˆ˜ ìˆë„ë¡ ì§€ì›í•©ë‹ˆë‹¤. ë˜í•œ Yarn 2ëŠ” PnPì™€ í˜¸í™˜ë˜ë„ë¡ ë§Œë“¤ì–´ì§„ ë‹¤ì–‘í•œ IDEë‚˜ íˆ´ì˜ í”ŒëŸ¬ê·¸ì¸ë“¤ì„ ì œê³µí•©ë‹ˆë‹¤. ë”°ë¼ì„œ Yarn 2ë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜í•˜ë”ë¼ë„ ê¸°ì¡´ì˜ í”„ë¡œì íŠ¸ êµ¬ì¡°ë‚˜ ì„¤ì •ê³¼ í¬ê²Œ ì¶©ëŒí•  ê°€ëŠ¥ì„±ì€ ë‚®ìŠµë‹ˆë‹¤.

### References

(1) [Itâ€™s 2021, and You Should Switch to Yarn 2 - Atomic Spin](https://spin.atomicobject.com/2021/02/17/switch-yarn-2/)
(2) [Introducing Yarn 2 ! ğŸ§¶ğŸŒŸ](https://yarnpkg.dev/releases/2-0/)
(3) [What's the problem with Yarn 2? - Medium](https://njbmartin.medium.com/whats-the-problem-with-yarn-2-ca59e3fabc9f)

## Difference between Yarn version 2.\_ and Yarn version 3.\_

Yarn version 2.*ì™€ Yarn version 3.*ì—ëŠ” ëª‡ ê°€ì§€ ì°¨ì´ì ì´ ìˆìŠµë‹ˆë‹¤.

- Yarn 3ëŠ” Yarn 2ë³´ë‹¤ ì„±ëŠ¥ì´ í–¥ìƒë˜ì—ˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, yarn install ëª…ë ¹ì–´ì˜ ì‹¤í–‰ ì‹œê°„ì´ ì•½ 30% ë‹¨ì¶•ë˜ì—ˆìŠµë‹ˆë‹¤.
- Yarn 3ëŠ” esbuildë¥¼ ì‚¬ìš©í•˜ì—¬ TypeScript íŒŒì¼ì„ ì»´íŒŒì¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ê¸°ëŠ¥ì€ yarn plugin import typescript ëª…ë ¹ì–´ë¡œ ì„¤ì¹˜í•  ìˆ˜ ìˆìœ¼ë©°, yarn tsc ëª…ë ¹ì–´ë¡œ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- Yarn 3ëŠ” íŒ¨í‚¤ì§€ì˜ ë²„ì „ ë²”ìœ„ë¥¼ ë” ìœ ì—°í•˜ê²Œ ì§€ì •í•  ìˆ˜ ìˆë„ë¡ í•´ì¤ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ^1.0.0 || ^2.0.0 ê³¼ ê°™ì€ ë³µí•© ë²„ì „ ë²”ìœ„ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- Yarn 3ëŠ” íŒ¨í‚¤ì§€ì˜ ì˜ì¡´ì„±ì„ ë” ì‰½ê²Œ ìˆ˜ì •í•  ìˆ˜ ìˆëŠ” patch í”„ë¡œí† ì½œì„ ê°œì„ í–ˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, patch:foo@npm:1.0.0#./my-changes.patch ê³¼ ê°™ì€ í˜•ì‹ìœ¼ë¡œ íŒ¨ì¹˜ íŒŒì¼ì„ ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### References

(1) [MDH å‰ç«¯å‘¨åˆŠç¬¬ 13 æœŸï¼šYarn 3ã€React Re-renderingã€Just JavaScript](http://geekdaxue.co/read/chencheng@mdh-weekly/ak0ta5)
(2) [javascript - Why is "yarn 2" yarn 3.0.1? - Stack Overflow](https://stackoverflow.com/questions/69019854/why-is-yarn-2-yarn-3-0-1)
(3) [Getting Started with Yarn 3 and TypeScript - Medium](https://plainenglish.io/blog/getting-started-with-yarn-3-and-typescript-125e7b537e6c)
(4) [Itâ€™s 2021, and You Should Switch to Yarn 2 - Atomic Spin](https://spin.atomicobject.com/2021/02/17/switch-yarn-2/)
