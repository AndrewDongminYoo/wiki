<!doctype html>
<html lang="ko" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.0">
<title data-rh="true">Node.js의 Package Manager pnpm and Yarn berry | My Site</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://your-docusaurus-test-site.com/wiki/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://your-docusaurus-test-site.com/wiki/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://your-docusaurus-test-site.com/wiki/blog/node-js-package-manager-pnpm-and-yarn-berry"><meta data-rh="true" property="og:locale" content="ko"><meta data-rh="true" property="og:locale:alternate" content="en"><meta data-rh="true" name="docusaurus_locale" content="ko"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="ko"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Node.js의 Package Manager pnpm and Yarn berry | My Site"><meta data-rh="true" name="description" content="Node.js 패키지 매니저"><meta data-rh="true" property="og:description" content="Node.js 패키지 매니저"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2023-03-20T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://gravatar.com/donminzzi"><link data-rh="true" rel="icon" href="/wiki/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://your-docusaurus-test-site.com/wiki/blog/node-js-package-manager-pnpm-and-yarn-berry"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/wiki/blog/node-js-package-manager-pnpm-and-yarn-berry" hreflang="ko"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/wiki/en/blog/node-js-package-manager-pnpm-and-yarn-berry" hreflang="en"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/wiki/blog/node-js-package-manager-pnpm-and-yarn-berry" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/wiki/blog/rss.xml" title="My Site RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/wiki/blog/atom.xml" title="My Site Atom Feed"><link rel="stylesheet" href="/wiki/assets/css/styles.a30419b5.css">
<script src="/wiki/assets/js/runtime~main.9c986a32.js" defer="defer"></script>
<script src="/wiki/assets/js/main.e59d876b.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="본문으로 건너뛰기"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">본문으로 건너뛰기</a></div><nav aria-label="메인" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="네비게이션 바 토글하기" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/wiki/"><div class="navbar__logo"><img src="/wiki/img/logo.svg" alt="내 사이트 로고" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/wiki/img/logo.svg" alt="내 사이트 로고" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">내 사이트</b></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>한국어</a><ul class="dropdown__menu"><li><a href="/wiki/blog/node-js-package-manager-pnpm-and-yarn-berry" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="ko">한국어</a></li><li><a href="/wiki/en/blog/node-js-package-manager-pnpm-and-yarn-berry" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li></ul></div><a class="navbar__item navbar__link" href="/wiki/docs/intro">튜토리얼</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/wiki/blog">블로그</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/AndrewDongminYoo/wiki" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">깃허브<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="어두운 모드와 밝은 모드 전환하기 (현재 밝은 모드)" aria-label="어두운 모드와 밝은 모드 전환하기 (현재 밝은 모드)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="최근 블로그 문서 둘러보기"><div class="sidebarItemTitle_pO2u margin-bottom--md">최신글</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wiki/blog/front-backend-developer-roadmap">프론트+백엔드 개발자 로드맵</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wiki/blog/static-property-in-java-class">Static Property in Java Class</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wiki/blog/four-mainstream-d-bs-and-features">가장 많이 사용되는 주류 DB 4가지와 특징</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wiki/blog/generate-unicode-emoji-regular-expression">Generate Unicode emoji regular expression</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wiki/blog/redirection-of-the-website">웹사이트의 리다이렉팅 방식</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="https://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="Node.js 패키지 매니저"><header><h1 class="title_f1Hy" itemprop="headline">Node.js의 Package Manager pnpm and Yarn berry</h1><div class="container_mt6G margin-vert--md"><time datetime="2023-03-20T00:00:00.000Z" itemprop="datePublished">2023년 3월 20일</time> · <!-- -->약 23분</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://gravatar.com/donminzzi" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/82999715?v=4" alt="Dongmin Yu" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://gravatar.com/donminzzi" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Dongmin Yu</span></a></div><small class="avatar__subtitle" itemprop="description">Cross Platform Developer Android, iOS, macOS.</small></div></div></div></div></header><div id="__blog-post-container" class="markdown" itemprop="articleBody"><h2 id="nodejs-패키지-매니저">Node.js 패키지 매니저</h2>
<p>Node.js 패키지 매니저는 Node.js에서 사용할 수 있는 모듈을 패키지 형태로 저장해 둔 패키지 생태계이자 패키지 설치 및 관리를 위한 CLI를 제공하는 도구입니다. npm은 Node.js와 함께 설치되어 가장 널리 쓰이는 패키지 매니저입니다. Yarn과 pnpm 외에도 다른 패키지 매니저들이 있습니다. 예를 들어, cnpm, ied, npmd 등이 있습니다. 각 도구마다 장단점이 있으므로 프로젝트의 요구사항과 개인의 취향에 따라 선택하시면 됩니다.</p>
<h3 id="references">References</h3>
<p>(1) <a href="https://library.gabia.com/contents/8206/">[Node.js] 인기 NPM 패키지 알아보기 | 가비아 라이브러리</a>
(2) <a href="https://heropy.blog/2018/02/18/node-js-npm/">처음 시작하는 Node.js 개발 - 2 - npm | HEROPY</a>
(3) <a href="https://nodejs.org/ko/download/package-manager">패키지 매니저로 Node.js 설치하기 | Node.js</a>
(4) <a href="https://nodejs.org/en/download/package-manager">Installing Node.js via package manager | Node.js</a>
(5) <a href="https://www.npmjs.com/package/npm">npm - a JavaScript package manager</a></p>
<h2 id="각-패키지-매니저의-강점">각 패키지 매니저의 강점</h2>
<ul>
<li>npm: Node.js와 함께 설치되어 가장 널리 쓰이는 패키지 매니저입니다. 모든 Node.js 모듈을 호환하고 사용하기 쉽습니다.</li>
<li>yarn: npm보다 빠르고 안정적인 설치 속도를 제공합니다. 오프라인 모드와 워크스페이스 기능을 지원합니다.</li>
<li>pnpm: 디스크 공간과 메모리를 절약하는 방식으로 패키지를 설치합니다. 중복된 패키지를 하나의 복사본으로 관리하고 심볼릭 링크로 연결합니다.</li>
<li>cnpm: 중국에서 개발된 패키지 매니저로 npm의 미러 서버를 사용하여 중국 내에서 빠른 다운로드 속도를 제공합니다.</li>
</ul>
<h3 id="references-1">References</h3>
<p>(1) <a href="https://blog.logrocket.com/javascript-package-managers-compared/">JavaScript package managers compared: npm, Yarn, or pnpm?</a>
(2) <a href="https://www.atatus.com/blog/npm-vs-yarn-vs-pnpm/">JavaScript Package Managers: NPM Vs YARN Vs PNPM - Atatus</a>
(3) <a href="https://refine.dev/blog/pnpm-vs-npm-and-yarn/">Why you should prefer using pnpm over npm and yarn? | refine</a></p>
<h2 id="리액트-네이티브-개발의-패키지-매니저">리액트 네이티브 개발의 패키지 매니저</h2>
<p>yarn berry와 pnpm은 모두 Plug&#x27;n&#x27;Play(PnP)라는 기능을 지원합니다. PnP는 패키지를 설치할 때 node_modules 폴더를 생성하지 않고, 하나의 복사본으로 관리하고 심볼릭 링크로 연결하는 방식입니다. 이렇게 하면 디스크 공간과 메모리를 절약하고 설치 속도를 향상시킬 수 있습니다.
그러나 yarn berry와 pnpm은 PnP를 구 현하는 방식에 차이가 있습니다. yarn berry는 PnP를 기본적으로 활성화하고, 호환되지 않는 패키지들을 위해 loose 모드라는 옵션을 제공합니다. pnpm은 PnP 대신 node_modules 폴더에 심볼릭 링크를 생성하는 방식을 사용합니다. 이 방식은 호환성 문제가 적으나, 일부 패키지들이 심볼릭 링크로 인식하지 못하는 경우가 있습니다.
따라서 리액트 네이티브 개발자에게 어떤 패키지 매니저가 더 적합한지는 프로젝트의 특성과 사용하는 패키지들에 따라 다르겠습니다. 일반적으로 yarn berry는 PnP의 장점을 최대한 활용하고 싶은 경우에 좋으며, pnpm은 node_modules 폴더의 구조를 유지하면서 캐싱의 장점을 얻고 싶은 경우에 좋습니다.</p>
<h3 id="references-2">References</h3>
<p>(1) <a href="https://blog.logrocket.com/advanced-package-manager-features-npm-yarn-pnpm/">Advanced package manager features for npm, Yarn, and pnpm</a>
(2) <a href="https://blog.logrocket.com/javascript-package-managers-compared/">JavaScript package managers compared: npm, Yarn, or pnpm?</a>
(3) <a href="https://yarnpkg.com/features/pnp/">Plug&#x27;n&#x27;Play | Yarn - Package Manager</a>
(4) <a href="https://stackoverflow.com/questions/58464279/npm-or-yarn-what-is-the-standard-practice-of-starting-react-native-projects-and">reactjs - NPM or Yarn? What is the standard practice of starting React Native projects ...</a></p>
<h2 id="두-패키지-도구의-차이점과-각각의-장단점">두 패키지 도구의 차이점과 각각의 장단점</h2>
<p>yarn berry와 pnpm의 차이점</p>
<ul>
<li>yarn berry는 PnP를 기본적으로 활성화하고, 호환되지 않는 패키지들을 위해 loose 모드라는 옵션을 제공합니다. pnpm은 PnP 대신 node_modules 폴더에 심볼릭 링크를 생성하는 방식을 사용합니다.</li>
<li>yarn berry는 워크스페이스 기능을 지원하며, 여러 프로젝트를 하나의 저장소에서 관리할 수 있  습니다. pnpm은 워크스페이스 기능을 지원하지 않으며, 각 프로젝트마다 별도의 패키지 매니저를 사용해야 합니다.</li>
<li>yarn berry는 플러그인 시스템을 제공하며, 다양한 기능들을 추가할 수 있습니다. pnpm은 플러그인 시스템을 제공하지 않으며, 필요한 기능들은 별도의 도구나 스크립트로 구현해야 합니다.</li>
</ul>
<p>yarn berry와 pnpm의 장단점</p>
<ul>
<li>yarn berry의 장점은 PnP의 장점을 최대한 활용하고 싶은 경우에 좋으며, 워크스페이스와 플러그인 등 다양한 기능들을 제공한다는 점입니다. 단점은 PnP가 호환되지 않는 패키지들이 있어서 loose 모드를 사용해야 하는 경우가 있다는 점입니다.</li>
<li>pnpm의 장점은 node_modules 폴더의 구조를 유지하면서 캐싱의 장점을 얻고 싶은 경우에 좋으며, 호환성 문제가 적다는 점입니다. 단점은 워크스페이스와 플러그인 등 다양한 기능들이 부족하다는 점입니다.</li>
</ul>
<h3 id="references-3">References</h3>
<p>(1) <a href="https://www.atatus.com/blog/npm-vs-yarn-vs-pnpm/">JavaScript Package Managers: NPM Vs YARN Vs PNPM - Atatus</a>
(2) <a href="https://blog.logrocket.com/javascript-package-managers-compared/">JavaScript package managers compared: npm, Yarn, or pnpm?</a>
(3) <a href="https://pnpm.io/benchmarks">Benchmarks of JavaScript Package Managers | pnpm</a></p>
<h2 id="yarn-berry와-pnpm-각각에-대한-성능-벤치마크-결과">yarn berry와 pnpm 각각에 대한 성능 벤치마크 결과</h2>
<ul>
<li>yarn berry는 PnP 모드를 사용하면 설치 시간이 가장 빠르고, 캐시가 없는 경우에도 빠른 속도를 유지합니다. 하지만 업데이트 시간은 다른 패키지 매니저들보다 느립니다.</li>
<li>pnpm은 캐시가 있는 경우에 설치 시간이 가장 빠르고, 캐시가 없는 경우에도 yarn berry보다 느리지 않습니다. 업데이트 시간은 npm보다 빠르고, yarn classic보다 조금 느립니다.
성능 벤치마크 결과는 프로젝트의 크기나 구조에 따라 달라질 수 있으므로 참고만 하시기 바랍니다.</li>
</ul>
<h3 id="references-4">References</h3>
<p>(1) <a href="https://pnpm.io/benchmarks">Benchmarks of JavaScript Package Managers | pnpm</a>
(2) <a href="https://blog.logrocket.com/javascript-package-managers-compared/">JavaScript package managers compared: npm, Yarn, or pnpm?</a>
(3) <a href="https://github.com/pnpm/benchmarks-of-javascript-package-managers">pnpm/benchmarks-of-javascript-package-managers - GitHub</a></p>
<h2 id="yarn-berry가-업데이트-시간이-느린-이유">yarn berry가 업데이트 시간이 느린 이유</h2>
<ul>
<li>yarn berry는 PnP 모드를 사용하면 node_modules 폴더를 생성하지 않고, .pnp.js 파일에 패키지의 위치를 기록합니다. 이 방식은 설치 시간을 줄여주지만, 업데이트 시간을 늘리는 단점이 있습니다.</li>
<li>yarn berry는 업데이트할 때 peer dependencies의 충돌 여부를 체크하고, 문제가 있으면 경고 메시지를 출력합니다. 이 과정은 업데이트 시간에 영향을 줄 수 있습니다.</li>
</ul>
<h2 id="yarn-berry의-업데이트-시간을-최소화하는-방법">yarn berry의 업데이트 시간을 최소화하는 방법</h2>
<ul>
<li>yarn berry의 설정 파일인 .yarnrc.yml 파일에 nodeLinker: node-modules 라고 추가하면 PnP 모드를 비활성화하고, node_modules 폴더를 생성하는 방식으로 바꿀 수 있습니다. 이렇게 하면 업데이트 시간이 줄어들 수 있습니다.</li>
<li>yarn berry의 명령어인 yarn up 을 사용하면 패키지들을 최신 버전으로 업데이트할 수 있습니다. 이 명령어는 peer dependencies의 충돌 여부를 무시하므로, 경고 메시지가 나오지 않습니다. 하지만 peer dependencies가 정상적으로 작동하지 않을 수도 있으므로 주의해야 합니다.</li>
</ul>
<h3 id="references-5">References</h3>
<p>(1) <a href="https://yarnpkg.com/getting-started/migration/">Migration | Yarn - Package Manager</a>
(2) <a href="https://medium.com/inato/make-your-ci-faster-and-improve-developer-experience-upgrade-to-yarn-2-with-or-without-939524d9bef2">Make your CI faster and improve developer experience: Upgrade to Yarn &gt;2 with (or ...</a>
(3) <a href="https://github.com/yarnpkg/berry/issues/3476">[Bug?]: yarn install link step very slow · Issue #3476 · yarnpkg/berry - GitHub</a></p>
<h2 id="yarn-berry의-loose-모드-활성화-방법">yarn berry의 loose 모드 활성화 방법</h2>
<ul>
<li>yarn berry의 설정 파일인 .yarnrc.yml 파일에 pnpMode: loose 라고 추가하면 loose 모드를 활성화할 수 있습니다.</li>
<li>loose 모드는 PnP 모드와 비슷하지만, node_modules 링커에서 hoist되었을 패키지들에 대해서는 경고 메시지만 출력하고 접근을 허용합니다. 이렇게 하면 호환성 문제를 줄일 수 있습니다.</li>
</ul>
<h2 id="특정-패키지가-pnp를-지원하지-않는-것을-미리-알-수-있는-방법">특정 패키지가 PnP를 지원하지 않는 것을 미리 알 수 있는 방법</h2>
<ul>
<li>yarn berry의 명령어인 yarn dlx @yarnpkg/doctor 을 사용하면 프로젝트에 있는 패키지들이 PnP를 지원하는지 검사할 수 있습니다. 이 명령어는 문제가 있는 패키지들을 보여주고, 해결 방법을 제안합니다.</li>
<li><a href="https://yarnpkg.com/">yarn berry 웹사이트</a> 에서 패키지 이름을 검색하면 해당 패키지가 PnP를 지원하는지 여부를 확인할 수 있습니다. PnP를 지원하는 패키지는 아이콘으로 표시됩니다.</li>
</ul>
<h3 id="references-6">References</h3>
<p>(1) <a href="https://github.com/yarnpkg/berry/blob/master/CHANGELOG.md">berry/CHANGELOG.md at master · yarnpkg/berry · GitHub</a>
(2) <a href="https://stackoverflow.com/questions/61901805/fallback-pool-in-yarn-v2-loose-mode">yarnpkg - Fallback pool in yarn v2 &quot;loose&quot; mode - Stack Overflow</a>
(3) <a href="https://dev.to/arcanis/yarn-2-1-git-workspaces-focused-installs-loose-mode-live-playground-4kfc">Yarn 2.1 🐱‍🏍 Git Workspaces, Focused Installs, Loose mode, Live Playground ...</a></p>
<h2 id="yarn-berry에서-nodelinker-node_modules-옵션과-pnpmode-loose-옵션의-차이점">yarn berry에서 nodeLinker: node_modules 옵션과 pnpMode: loose 옵션의 차이점</h2>
<ul>
<li>nodeLinker: node_modules 옵션은 PnP 모드를 완전히 비활성화하고, 전통적인 node_modules 폴더를 생성하는 방식으로 패키지들을 설치하고 관리합니다. 이 옵션은 호환성 문제를 없애지만, 설치 시간과 디스크 공간을 많이 소모합니다.</li>
<li>pnpMode: loose 옵션은 PnP 모드를 부분적으로 활성화하고, node_modules 링커에서 hoist되었을 패키지들에 대해서는 경고 메시지만 출력하고 접근을 허용합니다. 이 옵션은 호환성 문제를 줄이면서도 설치 시간과 디스크 공간을 절약할 수 있습니다.</li>
</ul>
<p>두 옵션은 동시에 사용할 수 없습니다. 왜냐하면 두 옵션은 서로 다른 링커 방식을 사용하기 때문입니다. 만약 두 옵션을 동시에 설정하면 yarn berry는 오류 메시지를 출력하고 작동하지 않습니다.</p>
<h3 id="references-7">References</h3>
<p>(1) <a href="https://blog.logrocket.com/advanced-package-manager-features-npm-yarn-pnpm/">Advanced package manager features for npm, Yarn, and pnpm</a>
(2) <a href="https://stackoverflow.com/questions/71063201/yarn-3-nodelinker-node-modules">yarnpkg - Yarn 3 nodeLinker: node-modules - Stack Overflow</a>
(3) <a href="https://woong-jae.com/projects/220711-pnp-dependency-error/">Yarn PnP 의존성 에러 해결기 | 햣 블로그</a>
(4) <a href="https://yarnpkg.com/features/pnp/">Plug&#x27;n&#x27;Play | Yarn - Package Manager</a>
(5) <a href="https://github.com/yarnpkg/berry/issues/3482">Default nodeLinker is node_modules instead of pnp · Issue #3482 · yarnpkg/berry ...</a></p>
<h2 id="yarn-berry-마이그레이션-방 법">yarn berry 마이그레이션 방법</h2>
<p>yarn classic을 사용하던 프로젝트에서 yarn berry로 업데이트하고 나서, 다음과 같은 작업을 해야 합니다:</p>
<ul>
<li>yarn set version berry 명령어를 실행하여 yarn berry를 활성화합니다.</li>
<li>.npmrc나 .yarnrc 파일이 있다면 새로운 형식인 .yarnrc.yml 파일로 변환합니다. 이 과정에서 기존의 설정들을 유지하거나 변경할 수 있습니다.</li>
<li>yarn install 명령어를 실행하여 프로젝트의 의존성들을 설치합니다. 이때 PnP 모드가 기본적으로 적용되므로 호환성 문제가 발생할 수 있습니다. 이런 경우에는 nodeLinker: node_modules 옵션을 사용하거나 pnpMode: loose 옵션을 사용하여 해결할 수 있습니다.</li>
<li>package.json 파일에 있는 scripts 설정들을 검토하고 필요한 경우 수정합니다. 예를 들어 node_modules 폴더에 직접 접근하는 스크립트는 PnP 모드와 충돌할 수 있으므로 yarn dlx 명령어를 사용하여 대체할 수 있습니다.</li>
</ul>
<p>.yarnrc.yml 파일과 .yarnrc 파일은 동시에 사용할 수 없습니다. 왜냐하면 두 파일은 서로 다른 형식의 설정 파일이기 때문입니다. 만약 두 파일이 동시에 존재한다면 yarn berry는 오류 메시지를 출력하고 작동하지 않습니다.</p>
<h3 id="references-8">References</h3>
<p>(1) <a href="https://yarnpkg.com/getting-started/migration/">Migration | Yarn - Package Manager</a>
(2) <a href="https://github.com/yarnpkg/berry/discussions/3448">Feedback on Yarn 3 migration from Yarn classic · Discussion #3448 · yarnpkg/berry ...</a>
(3) <a href="https://github.com/yarnpkg/yarn">yarnpkg/yarn: The 1.x line is frozen - GitHub</a></p>
<h2 id="yarn-berry의-dlx-커맨드">yarn berry의 dlx 커맨드</h2>
<ul>
<li>dlx 커맨드는 npx 커맨드와 유사하게 한 번만 실행할 패키지를 설치하고 실행하는 명령어입니다. 예를 들어 yarn dlx create-react-app 명령어  는 create-react-app 패키지를 임시로 설치하고 프로젝트를 생성한 후 삭제합니다.</li>
<li>dlx 커맨드는 yarn berry의 PnP 모드와 호환되도록 설계되었습니다. 따라서 node_modules 폴더에 직접 접근하는 패키지들을 dlx 커맨드로 대체할 수 있습니다. 예를 들어 yarn dlx eslint --init 명령어는 eslint 패키지를 임시로 설치하고 설정 파일을 생성한 후 삭제합니다.</li>
<li>dlx 커맨드는 -p,--package 플래그를 사용하여 실행할 패키지와 실행할 명령어를 구분할 수 있습니다. 예를 들어 yarn dlx -p jest jest 명령어는 jest 패키지에서 jest 명령어를 실행합니다.</li>
</ul>
<h3 id="references-9">References</h3>
<p>(1) <a href="https://yarnpkg.com/cli/dlx/"><code>yarn dlx</code> | Yarn - Package Manager</a>
(2) <a href="https://github.com/yarnpkg/berry">GitHub - yarnpkg/berry: 📦🐈 Active development trunk for Yarn ⚒</a>
(3) <a href="https://haranglog.tistory.com/28">Yarn berry에서 React + Jest + Cypress + TypeScript + Github Actions CI/CD를 ...</a>
(4) <a href="https://kasterra.github.io/setting-yarn-berry/">yarn berry로 React.js 프로젝트 시작하기 | Kasterra&#x27;s Archive</a>
(5) <a href="https://yarnpkg.com/getting-started/migration/">Migration | Yarn - Package Manager</a></p>
<h2 id="yarn-dlx-명령어와-npx-명령어의-충돌-가능성">yarn dlx 명령어와 npx 명령어의 충돌 가능성</h2>
<p>dlx 커맨드는 npx 커맨드와 거의 동일한 기능을 제공하지만 yarn berry의 PnP 모드와 호환되도록 만들어졌습니다. 따라서 yarn berry를 사용하는 프로젝트에서는 dlx 커맨드를 사용하는 것이 권장됩니다. npx 커맨드는 node_modules 폴더에 의존하기 때문에 PnP 모드와 충돌할 수 있습니다.</p>
<p>패키지 매니저는 프로젝트의 의존성을 관리하는 도구입니다. 각 프로젝트마다 다른 패키지 매니저를 사용할 수 있습니다. 예를 들어, npm, yarn, pnpm 등의 패키 지 매니저를 선택할 수 있습니다.</p>
<p>각 패키지 매니저는 자신만의 장단점이 있으므로, 프로젝트의 목적과 요구사항에 따라 적합한 패키지 매니저를 선택하는 것이 좋습니다. 또한, 패키지 매니저를 바꾸고 싶다면, 기존에 설치된 패키지들을 삭제하고 새로운 패키지 매니저로 다시 설치하는 과정이 필요합니다. 각 패키지 매니저 사이에 간섭은 전혀 없다고 단언하기는 어렵습니다. 가능하면 한 프로젝트에서는 한 가지 패키지 매니저만 사용하시는 것이 안전하고 편리할 것입니다.</p>
<h3 id="references-10">References</h3>
<p>(1) <a href="https://developer.mozilla.org/en-US/docs/Learn/Tools_and_testing/Understanding_client-side_tools/Package_management">Package management basics - Learn web development | MDN - Mozilla</a>
(2) <a href="https://blog.logrocket.com/javascript-package-managers-compared/">JavaScript package managers compared: npm, Yarn, or pnpm?</a>
(3) <a href="https://stackoverflow.com/questions/42142993/adding-nuget-packages-from-one-project-to-another">Adding Nuget Packages From One Project To Another</a></p>
<h2 id="yarn-berry로-업그레이드하지-않아도-되는-경우">Yarn Berry로 업그레이드하지 않아도 되는 경우</h2>
<p>pnpm과 yarn berry를 프로젝트에 적용시켜 보고자 하는 개발자들을 대상으로, 다음과 같은 경우에는 기존의 npm이나 yarn classic을 쓰는 게 낫다고 말할 수 있습니다:</p>
<ul>
<li>Node.js의 버전이 16.9.0 미만인 경우: pnpm과 yarn berry는 Corepack이라는 도구를 사용하여 패키지 매니저를 관리합니다. 하지만 Corepack은 Node.js 16.9.0 이상에서만 사전 설치되어 있으므로, 그 이하의 버전에서는 별도로 설치하고 활성화해야 합니다. 이 과정이 번거롭거나 오류가 발생할 수 있는 경우에는 npm이나 yarn classic을 사용하는 것이 편리할 수 있습니다.</li>
<li>패키지가 node_modules 폴더에 의존하는 경우: pnpm과 yarn berry는 node_modules 폴더를 생성하지 않고, 의존성을 공유하거나 가상화하는 방식으로 패키지를 관리합니다. 이는 디스크 공간과 설치 속도를 절약할 수 있지만, node_modules 폴더에 직접 접근하거나 수정하는 패키지와 호환되지 않을 수 있습니다. 이런 패키지들은 pnpm의 --shamefully-hoist 옵션이나 yarn berry의 nodeLinker 옵션으로 해결할 수 있기도 하지만, 그렇게 되면 pnpm과 yarn berry의 장점을 잃게 될 수 있습니다. 따라서 이런 패키지들을 사용해야 하는 경우에는 npm이나 yarn classic을 사용하는 것이 안전할 수 있습니다.</li>
</ul>
<p>위의 예시 외에도 다른 상황에 따라서 pnpm과 yarn berry가 적합하지 않을 수도 있습니다. 따라서 프로젝트의 특성과 요구사항을 잘 파악하고, 패키지 매니저를 선택하시기 바랍니다.</p>
<h3 id="references-11">References</h3>
<p>(1) <a href="https://blog.logrocket.com/javascript-package-managers-compared/">JavaScript package managers compared: npm, Yarn, or pnpm?</a>
(2) <a href="https://refine.dev/blog/pnpm-vs-npm-and-yarn/">Why you should prefer using pnpm over npm and yarn? | refine</a>
(3) <a href="https://www.atatus.com/blog/npm-vs-yarn-vs-pnpm/">JavaScript Package Managers: NPM Vs YARN Vs PNPM - Atatus</a></p>
<h2 id="yarn-classic-yarn-berry-pnpm의-인기">yarn classic, yarn berry, pnpm의 인기</h2>
<p>yarn classic과 pnpm, yarn berry의 각 사용자 비율을 정확하게 알려주기는 어렵습니다. 패키지 매니저의 사용률은 다양한 요인에 따라 변화할 수 있고, 중복 사용자가 많을 수 있기 때문입니다. 하지만 대략적인 사용률을 알고 싶으시다면, 다음과 같은 방법으로 참고할 수 있습니다:</p>
<ul>
<li>npm registry에서 각 패키지 매니저의 다운로드 횟수를 확인하는 방법: 이 방법은 각 패키지 매니저의 인기도를 나타낼   수 있습니다. 예를 들어, 2022년 12월 1일부터 2023년 1월 8일까지의 기간 동안, yarn classic은 약 <strong>2억 5천만</strong>번 다운로드되었고, pnpm은 약 <strong>1천만</strong>번 다운로드되었으며, yarn berry는 약 <strong>3백만</strong>번 다운로드되었습니다. 이 결과를 보면, yarn classic이 가장 인기있는 패키지 매니저라고 할 수 있습니다.</li>
<li>각 패키지 매니저의 벤치마크 결과를 확인하는 방법: 이 방법은 각 패키지 매니저의 성능을 비교할 수 있습니다. 예를 들어, pnpm 공식 웹사이트에서 제공하는 벤치마크 결과에 따르면, pnpm이 npm과 yarn classic보다 설치 속도와 디스크 공간 절약 면에서 우수하다고 합니다. 또한 yarn berry는 node_modules 폴더를 생성하지 않는 PnP 모드로 실행될 때 가장 빠른 설치 속도와 가장 적은 디스크 공간을 차지한다고 합니다. 이 결과를 보면, pnpm과 yarn berry가 성능 면에서 우위에 있다고 할 수 있습니다.</li>
</ul>
<h3 id="references-12">References</h3>
<p>(1) <a href="https://blog.logrocket.com/javascript-package-managers-compared/">JavaScript package managers compared: npm, Yarn, or pnpm?</a>
(2) <a href="https://www.atatus.com/blog/npm-vs-yarn-vs-pnpm/">JavaScript Package Managers: NPM Vs YARN Vs PNPM - Atatus</a>
(3) <a href="https://pnpm.io/benchmarks">Benchmarks of JavaScript Package Managers | pnpm</a></p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="블로그 게시물 탐색"><a class="pagination-nav__link pagination-nav__link--prev" href="/wiki/blog/another-runtimes-of-javascript"><div class="pagination-nav__sublabel">이전 게시물</div><div class="pagination-nav__label">Another Runtimes of JavaScript</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/wiki/blog/yarn-berry-and-classic"><div class="pagination-nav__sublabel">다음 게시물</div><div class="pagination-nav__label">Yarn Berry and Classic</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#nodejs-패키지-매니저" class="table-of-contents__link toc-highlight">Node.js 패키지 매니저</a><ul><li><a href="#references" class="table-of-contents__link toc-highlight">References</a></li></ul></li><li><a href="#각-패키지-매니저의-강점" class="table-of-contents__link toc-highlight">각 패키지 매니저의 강점</a><ul><li><a href="#references-1" class="table-of-contents__link toc-highlight">References</a></li></ul></li><li><a href="#리액트-네이티브-개발의-패키지-매니저" class="table-of-contents__link toc-highlight">리액트 네이티브 개발의 패키지 매니저</a><ul><li><a href="#references-2" class="table-of-contents__link toc-highlight">References</a></li></ul></li><li><a href="#두-패키지-도구의-차이점과-각각의-장단점" class="table-of-contents__link toc-highlight">두 패키지 도구의 차이점과 각각의 장단점</a><ul><li><a href="#references-3" class="table-of-contents__link toc-highlight">References</a></li></ul></li><li><a href="#yarn-berry와-pnpm-각각에-대한-성능-벤치마크-결과" class="table-of-contents__link toc-highlight">yarn berry와 pnpm 각각에 대한 성능 벤치마크 결과</a><ul><li><a href="#references-4" class="table-of-contents__link toc-highlight">References</a></li></ul></li><li><a href="#yarn-berry가-업데이트-시간이-느린-이유" class="table-of-contents__link toc-highlight">yarn berry가 업데이트 시간이 느린 이유</a></li><li><a href="#yarn-berry의-업데이트-시간을-최소화하는-방법" class="table-of-contents__link toc-highlight">yarn berry의 업데이트 시간을 최소화하는 방법</a><ul><li><a href="#references-5" class="table-of-contents__link toc-highlight">References</a></li></ul></li><li><a href="#yarn-berry의-loose-모드-활성화-방법" class="table-of-contents__link toc-highlight">yarn berry의 loose 모드 활성화 방법</a></li><li><a href="#특정-패키지가-pnp를-지원하지-않는-것을-미리-알-수-있는-방법" class="table-of-contents__link toc-highlight">특정 패키지가 PnP를 지원하지 않는 것을 미리 알 수 있는 방법</a><ul><li><a href="#references-6" class="table-of-contents__link toc-highlight">References</a></li></ul></li><li><a href="#yarn-berry에서-nodelinker-node_modules-옵션과-pnpmode-loose-옵션의-차이점" class="table-of-contents__link toc-highlight">yarn berry에서 nodeLinker: node_modules 옵션과 pnpMode: loose 옵션의 차이점</a><ul><li><a href="#references-7" class="table-of-contents__link toc-highlight">References</a></li></ul></li><li><a href="#yarn-berry-마이그레이션-방법" class="table-of-contents__link toc-highlight">yarn berry 마이그레이션 방법</a><ul><li><a href="#references-8" class="table-of-contents__link toc-highlight">References</a></li></ul></li><li><a href="#yarn-berry의-dlx-커맨드" class="table-of-contents__link toc-highlight">yarn berry의 dlx 커맨드</a><ul><li><a href="#references-9" class="table-of-contents__link toc-highlight">References</a></li></ul></li><li><a href="#yarn-dlx-명령어와-npx-명령어의-충돌-가능성" class="table-of-contents__link toc-highlight">yarn dlx 명령어와 npx 명령어의 충돌 가능성</a><ul><li><a href="#references-10" class="table-of-contents__link toc-highlight">References</a></li></ul></li><li><a href="#yarn-berry로-업그레이드하지-않아도-되는-경우" class="table-of-contents__link toc-highlight">Yarn Berry로 업그레이드하지 않아도 되는 경우</a><ul><li><a href="#references-11" class="table-of-contents__link toc-highlight">References</a></li></ul></li><li><a href="#yarn-classic-yarn-berry-pnpm의-인기" class="table-of-contents__link toc-highlight">yarn classic, yarn berry, pnpm의 인기</a><ul><li><a href="#references-12" class="table-of-contents__link toc-highlight">References</a></li></ul></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">문서</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/wiki/docs/intro">튜토리얼</a></li></ul></div><div class="col footer__col"><div class="footer__title">커뮤니티</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">스택오버플로우<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">디스코드<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">트위터<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">더보기</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/wiki/blog">블로그</a></li><li class="footer__item"><a href="https://github.com/AndrewDongminYoo/wiki" target="_blank" rel="noopener noreferrer" class="footer__link-item">깃허브<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Dongmin Yu, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>